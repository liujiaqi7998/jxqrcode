# 小奇吉祥码小工具

一款小工具，通过模拟吉事办的吉祥码获取方法，实现轻量级的二维码获取，并显示在桌面上。

### 重要提示：

本软件仅供学习交流，不得用于商业用途，否则后果自负。

所有代码均已开源，不会收集用户信息，如果你不放心，可以自行修改编译。

本软件不会破坏到其他软件的正常使用。

### 运行要求：

Android 5.0 及以上

每次获取二维码需要网络

小米万象息屏显示二维码需要XPosed或其他兼容框架例如LSPosed

### 使用方法：

1. 登录“吉**”APP，通过认证，成功拉取到绿码
2. 通过对刷新绿码环节进行抓包，抓取到 `/api/v2/qr-color-search` 请求
3. 复制发送的内容（格式应该是：`{"encrypt":"P1***\u003d"}`）到“小奇吉祥码小工具”的文本框中
4. 点击“获取二维码”测试是否正常
5. 在桌面添加本软件的小部件，点击小部件就可以刷新二维码

（不要提交任何有关抓包的问题，我帮不了你！）

**（注意抓包内容打死也不要告诉任何人，一旦泄露马上换台手机重新登录）**



### 小米万象息屏显示二维码方法：

1. 在XPosed中激活本插件，并Hook `com.miui.aod`（小米万象息屏），然后重启手机
2. 打开设置找到万象息屏，在“我的息屏”一行中点击“自定义图片”
3. 添加任意图片保存应用即可

### 编译：

1. 导入到Android Stdio 
2. Gradle更新依赖
3. Gradle编译即可

### 功能和计划：

- [x] 在桌面上显示吉祥码
- [x] 超时自动更新吉祥码
- [x] 小米万象息屏Hook实现息屏二维码显示

### 已知BUG：

只能生成绿码，因为我只有绿码用来测试，但是已经预留了接口，后期会优化。

